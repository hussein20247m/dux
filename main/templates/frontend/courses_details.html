{% extends 'frontend/base.html' %}
{% load static %}





{% block contain%}

<!-- ================================
    START BREADCRUMB AREA
================================= -->
<section class="breadcrumb-area pt-50px pb-50px bg-white pattern-bg">
    <div class="container">
        <div class="col-lg-8 mr-auto">
            <div class="breadcrumb-content">
                <ul class="generic-list-item generic-list-item-arrow d-flex flex-wrap align-items-center">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">Development</a></li>
                    <li><a href="#">Java</a></li>
                </ul>
                <div class="section-heading">
                    <h2 class="section__title">{{courses.name}}</h2>
                    <p class="section__desc pt-2 lh-30">{{courses.description}}</p>
                </div><!-- end section-heading -->
                <div class="d-flex flex-wrap align-items-center pt-3">
                    <h6 class="ribbon ribbon-lg mr-2 bg-3 text-white">{{courses.course_semester}}</h6>
                 
                </div><!-- end d-flex -->
                <p class="pt-2 pb-1">Created by {{courses.instructor}}</p>
                <div class="d-flex flex-wrap align-items-center">
                    <p class="pr-3 d-flex align-items-center">
                        <svg class="svg-icon-color-gray mr-1" width="16px" viewBox="0 0 24 24"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>
                        Last updated : {{courses.last_update}}
                    </p>
                    <p class="pr-3 d-flex align-items-center">
                        <svg class="svg-icon-color-gray mr-1" width="16px" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 00-1.38-3.56A8.03 8.03 0 0118.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 015.08 16zm2.95-8H5.08a7.987 7.987 0 014.33-3.56A15.65 15.65 0 008.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 01-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></svg>
                        {{courses.languages}}
                    </p>
                </div><!-- end d-flex -->

            </div><!-- end breadcrumb-content -->
        </div><!-- end col-lg-8 -->
    </div><!-- end container -->
</section><!-- end breadcrumb-area -->
<!-- ================================
    END BREADCRUMB AREA
================================= -->

<!--======================================
        START COURSE DETAILS AREA
======================================-->
<section class="course-details-area pb-20px">
    <div class="container">
        <div class="row">
           <div class="col-lg-8 pb-5">
               <div class="course-details-content-wrap pt-90px">
                 
             
                   <div class="course-overview-card">
                       <h3 class="fs-24 font-weight-semi-bold pb-3">Description</h3>
                       <p class="fs-15 pb-2">Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>
                       <p class="fs-15 pb-2">It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy</p>
                       <p class="fs-15 pb-1">- Lorem ipsum dolor sit amet, consectetur.</p>
                       <p class="fs-15 pb-1">- Lorem ipsum dolor sit amet, consectetur.</p>
                       <p class="fs-15 pb-1">- Lorem ipsum dolor sit amet, consectetur.</p>
                   </div><!-- end course-overview-card -->

                   <div class="course-overview-card">
                       <div class="curriculum-header d-flex align-items-center justify-content-between pb-4">
                           <h3 class="fs-24 font-weight-semi-bold">Course content</h3>
                           <div class="curriculum-duration fs-15">
                               <span class="curriculum-total__text mr-2"><strong class="text-black font-weight-semi-bold">Total:</strong> 17 lectures</span>
                           </div>
                       </div>

                       
                       <div class="curriculum-content">
                           <div id="accordion" class="generic-accordion">

                            {% for i in lesson_title %}
                               <div class="card">
                                   <div class="card-header" id="heading{{ forloop.counter }}">
                                       <button class="btn btn-link d-flex align-items-center justify-content-between" data-toggle="collapse" data-target="#collapse{{ forloop.counter }}" aria-expanded="true" aria-controls="collapse{{ forloop.counter }}">
                                           <i class="la la-plus"></i>
                                           <i class="la la-minus"></i>
                                           {{i}}
                                           <span class="fs-15 text-gray font-weight-medium">6 lectures</span>
                                       </button>
                                   </div><!-- end card-header -->

                                   <div id="collapse{{ forloop.counter }}" class="collapse " aria-labelledby="heading{{ forloop.counter }}" data-parent="#accordion">

                                       <div class="card-body">
                                           <ul class="generic-list-item">

                                               
        <li>
            <a href="javascript:void(0)" data-toggle="modal" data-target="#previewModal">
                <a href="{{ i.video_url}}" class="btn-text video-play-btn mb-4" data-fancybox data-src="{{ i.video_url }}">
                <div class="d-flex align-items-center justify-content-between">
                    <span>
              
                    <i class="la la-play-circle mr-1"></i>
            
               
                  {{ i.title}} <span class="ribbon ml-2 fs-13">Preview</span>
                    </span>
                    <span>Video</span>
                </div>
                </a>
            </li>
                                                 <li>
                                                    <a href="#" class="d-flex align-items-center justify-content-between text-color" data-toggle="modal" data-target="#previewModal">
                                                        <span>
                                                            <i class="la la-play-circle mr-1"></i>
                                                            {{i.pdf_file}}
                                                            <span class="ribbon ml-2 fs-13">Preview</span>
                                                        </span>
                                                        <span>02:27</span>
                                                    </a>
                                                 </li>

                                                 <li>
                                             <!-- Button to open the quiz modal -->
                                <a href="{% url 'Generate_questions' pk=i.pk %}"type="button" class="btn theme-btn w-100"      
                                             >
                                         <i class="la la-code mr-1"></i> Start Quiz
                                         <span> Quiz </span>
                                     </a>

                    </li>
                                                

                                           </ul>

                                       </div><!-- end card-body -->

                                   </div><!-- end collapse -->
                               </div><!-- end card -->


                               {% endfor%}


                       



                        
                       
                     
                    
                    
                  
                           </div><!-- end generic-accordion -->
                       </div><!-- end curriculum-content -->
                   </div><!-- end course-overview-card -->

                 




                   <div class="course-overview-card pt-4">
                       <h3 class="fs-24 font-weight-semi-bold pb-4">Ask Chatbot</h3>
                       <li>
                        <div id="thread-container">
                        
                           {% for message in thread %}
                               <p>{{ message }}</p>
                           {% endfor %}
                       </div>
    
                   </li>        
                        <form method="post" action="{% url 'chatbot'%}"   enctype="multipart/form-data">
                            {% csrf_token %}

                             
                           
                          
                           <div class="input-box col-lg-12">
                               <div class="form-group">
                                   <textarea class="form-control form--control pl-3" name="chatbot" id="chatbot" placeholder="Write Message" rows="5"></textarea>
                               </div>
                           </div><!-- end input-box -->
                           <div class="btn-box col-lg-12">
                            
                               <button class="btn theme-btn" type="submit">Submit Review</button>
                           </div><!-- end btn-box -->
                       </form>
                   </div><!-- end course-overview-card -->
               </div><!-- end course-details-content-wrap -->
           </div><!-- end col-lg-8 -->
            <div class="col-lg-4">
                <div class="sidebar sidebar-negative">
                    <div class="card card-item">
                        <div class="card-body">
                            <div class="preview-course-video">
                                <a href="javascript:void(0)" data-toggle="modal" data-target="#previewModal">
                                    <img src="images/img-loading.png" data-src="images/preview-img.jpg" alt="course-img" class="w-100 rounded lazy">
                                    <div class="preview-course-video-content">
                                        <div class="overlay"></div>
                                        <div class="play-button">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-307.4 338.8 91.8 91.8" style=" enable-background:new -307.4 338.8 91.8 91.8;" xml:space="preserve">
                                              <style type="text/css">
                                                  .st0{fill:#ffffff; border-radius: 100px;}
                                                  .st1{fill:#000000;}
                                              </style>
                                                <g>
                                                 <circle class="st0" cx="-261.5" cy="384.7" r="45.9"></circle><path class="st1" d="M-272.9,363.2l35.8,20.7c0.7,0.4,0.7,1.3,0,1.7l-35.8,20.7c-0.7,0.4-1.5-0.1-1.5-0.9V364C-274.4,363.3-273.5,362.8-272.9,363.2z"></path>
                                             </g>
                                         </svg>
                                        </div>
                                        <p class="fs-15 font-weight-bold text-white pt-3">Preview this course</p>
                                    </div>
                                </a>
                            </div><!-- end preview-course-video -->
                            <div class="preview-course-feature-content pt-40px">
                                <p class="d-flex align-items-center pb-2">
                                    <span class="fs-35 font-weight-semi-bold text-black">$76.99</span>
                                    <span class="before-price mx-1">$104.99</span>
                                    <span class="price-discount">24% off</span>
                                </p>
                                <p class="preview-price-discount-text pb-35px">
                                    <span class="text-color-3">4 days</span> left at this price!
                                </p>
                                <div class="buy-course-btn-box">
                                    <button type="button" class="btn theme-btn w-100 mb-2"><i class="la la-shopping-cart fs-18 mr-1"></i> Add to cart</button>
                                    <button type="button" class="btn theme-btn w-100 theme-btn-white mb-2"><i class="la la-shopping-bag mr-1"></i> Buy this course</button>
                                </div>
                                <p class="fs-14 text-center pb-4">30-Day Money-Back Guarantee</p>
                                <div class="preview-course-incentives">
                                    <h3 class="card-title fs-18 pb-2">This course includes</h3>
                                    <ul class="generic-list-item pb-3">
                                        <li><i class="la la-play-circle-o mr-2 text-color"></i>2.5 hours on-demand video</li>
                                        <li><i class="la la-file mr-2 text-color"></i>34 articles</li>
                                        <li><i class="la la-file-text mr-2 text-color"></i>12 downloadable resources</li>
                                        <li><i class="la la-code mr-2 text-color"></i>51 coding exercises</li>
                                        <li><i class="la la-key mr-2 text-color"></i>Full lifetime access</li>
                                        <li><i class="la la-television mr-2 text-color"></i>Access on mobile and TV</li>
                                        <li><i class="la la-certificate mr-2 text-color"></i>Certificate of Completion</li>
                                    </ul>
                                    <div class="section-block"></div>
                                    <div class="buy-for-team-container pt-4">
                                        <h3 class="fs-18 font-weight-semi-bold pb-2">Training 5 or more people?</h3>
                                        <p class="lh-24 pb-3">Get your team access to 3,000+ top Aduca courses anytime, anywhere.</p>
                                        <a href="for-business.html" class="btn theme-btn theme-btn-sm theme-btn-transparent lh-30 w-100">Try Aduca for Business</a>
                                    </div>
                                </div><!-- end preview-course-incentives -->
                            </div><!-- end preview-course-content -->
                        </div>
                    </div><!-- end card -->
                    <div class="card card-item">
                        <div class="card-body">
                            <h3 class="card-title fs-18 pb-2">Course Features</h3>
                            <div class="divider"><span></span></div>
                            <ul class="generic-list-item generic-list-item-flash">
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-clock mr-2 text-color"></i>Duration</span> 2.5 hours</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-play-circle-o mr-2 text-color"></i>Lectures</span> 17</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-file-text-o mr-2 text-color"></i>Resources</span> 12</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-bolt mr-2 text-color"></i>Quizzes</span> 26</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-eye mr-2 text-color"></i>Preview Lessons</span> 4</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-language mr-2 text-color"></i>Language</span> English</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-lightbulb mr-2 text-color"></i>Skill level</span> All levels</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-users mr-2 text-color"></i>Students</span> 30,506</li>
                                <li class="d-flex align-items-center justify-content-between"><span><i class="la la-certificate mr-2 text-color"></i>Certificate</span> Yes</li>
                            </ul>
                        </div>
                    </div><!-- end card -->
               
             
                </div><!-- end sidebar -->
            </div><!-- end col-lg-4 -->
        </div><!-- end row -->
    </div><!-- end container -->
</section><!-- end course-details-area -->
<!--======================================
        END COURSE DETAILS AREA
======================================-->


<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $('form').submit(function (e) {
            e.preventDefault();  // Prevent the default form submission

            // Get the form data
            var formData = $(this).serialize();

            // Send an asynchronous request to the server
            $.ajax({
                type: 'POST',
                url: '{% url "chatbot" %}',
                data: formData,
                success: function (data) {
                    // Update the thread without refreshing the entire page
                    $('#thread-container').html(data.thread.join('<br>'));
                },
                error: function () {
                    console.log('Error submitting the form');
                }
            });
        });
    });
</script>



<div class="section-block"></div>
{% endblock%}

